function [qamsig,h] = ofdm_demod(ofdm_seq,N,L,trainblock)
    

% Define P
    P = length(ofdm_seq) / (N + L);
    
    % reshape ofdm_sig
    qamsig = reshape(ofdm_seq, [N+L P]);
    
    % throw away cyclic prefix
    qamsig = qamsig(L+1:end,:);
    
    % fft
    qamsig = fft(qamsig);
    
    % throw away copies
    qamsig = qamsig(2:lastBin+1,:);
    
    % Channel equalisation
    h = zeros(N/2-1,0);
    
    % reshape to a line
    qamsig = reshape(qamsig, [lastBin*P 1]);    
end
